%PDF-1.4
1 0 obj
<< /Type /Catalog /Pages 2 0 R >>
endobj
2 0 obj
<< /Type /Pages /Kids [3 0 R 4 0 R 5 0 R 6 0 R 7 0 R 8 0 R 9 0 R 10 0 R 11 0 R 12 0 R 13 0 R 14 0 R 15 0 R 16 0 R 17 0 R 18 0 R 19 0 R] /Count 17 >>
endobj
3 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 21 0 R >>
endobj
4 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 22 0 R >>
endobj
5 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 23 0 R >>
endobj
6 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 24 0 R >>
endobj
7 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 25 0 R >>
endobj
8 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 26 0 R >>
endobj
9 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 27 0 R >>
endobj
10 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 28 0 R >>
endobj
11 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 29 0 R >>
endobj
12 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 30 0 R >>
endobj
13 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 31 0 R >>
endobj
14 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 32 0 R >>
endobj
15 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 33 0 R >>
endobj
16 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 34 0 R >>
endobj
17 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 35 0 R >>
endobj
18 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 36 0 R >>
endobj
19 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 20 0 R >> >> /Contents 37 0 R >>
endobj
20 0 obj
<< /Type /Font /Subtype /Type1 /BaseFont /Helvetica >>
endobj
21 0 obj
<< /Length 2187 >>
stream
BT
/F1 10 Tf
72 752 Td
(Here is the folder structure in my root folder) Tj
0 -14 Td
(32project) Tj
0 -14 Td
(+-- main.py) Tj
0 -14 Td
(+-- templates/) Tj
0 -14 Td
(    +-- dashboard_admin.html) Tj
0 -14 Td
(    +-- dashboard_viewer.html) Tj
0 -14 Td
(    +-- index.html) Tj
0 -14 Td
() Tj
0 -14 Td
(Here is files code:) Tj
0 -14 Td
/F1 14 Tf
1 0 0 rg
(main.py) Tj
/F1 10 Tf
0 0 0 rg
0 -14 Td
(```python) Tj
0 -14 Td
(from flask import Flask, render_template, redirect, url_for, flash, request, Response, jso) Tj
0 -14 Td
(nify) Tj
0 -14 Td
(from flask_sqlalchemy import SQLAlchemy) Tj
0 -14 Td
(from flask_login import LoginManager, UserMixin, login_user, login_required, logout_user, ) Tj
0 -14 Td
(current_user) Tj
0 -14 Td
(from werkzeug.security import generate_password_hash, check_password_hash) Tj
0 -14 Td
(import re) Tj
0 -14 Td
(import cv2) Tj
0 -14 Td
(import platform) Tj
0 -14 Td
(import os) Tj
0 -14 Td
(import serial) Tj
0 -14 Td
(import time) Tj
0 -14 Td
(from dotenv import load_dotenv) Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- Load Environment ----------------------) Tj
0 -14 Td
(load_dotenv\(\)) Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- GPIO + Arduino Setup ----------------------) Tj
0 -14 Td
(IS_PI = platform.system\(\) == "Linux") Tj
0 -14 Td
() Tj
0 -14 Td
(if IS_PI:) Tj
0 -14 Td
(    import RPi.GPIO as GPIO) Tj
0 -14 Td
(    GPIO.setmode\(GPIO.BCM\)) Tj
0 -14 Td
(    print\("Running on Raspberry Pi: GPIO enabled"\)) Tj
0 -14 Td
() Tj
0 -14 Td
(    # ----- Arduino Serial Setup \(for motor control via Arduino\) -----) Tj
0 -14 Td
(    SERIAL_PORT = os.getenv\("ARDUINO_PORT", "/dev/ttyACM0"\)) Tj
0 -14 Td
(    BAUD_RATE = 9600) Tj
0 -14 Td
(    try:) Tj
0 -14 Td
(        ser = serial.Serial\(SERIAL_PORT, BAUD_RATE, timeout=1\)) Tj
0 -14 Td
(        time.sleep\(2\)  # allow Arduino to reset) Tj
0 -14 Td
(        print\(f"Connected to Arduino on {SERIAL_PORT} at {BAUD_RATE} baud"\)) Tj
0 -14 Td
(    except Exception as e:) Tj
0 -14 Td
(        ser = None) Tj
0 -14 Td
(        print\(f"Failed to open Arduino serial port: {e}"\)) Tj
0 -14 Td
(else:) Tj
0 -14 Td
(    print\("Not running on Raspberry Pi: GPIO simulated"\)) Tj
ET
endstream
endobj
22 0 obj
<< /Length 2236 >>
stream
BT
/F1 10 Tf
72 752 Td
(    from gpiozero import LED, Device) Tj
0 -14 Td
(    from gpiozero.pins.mock import MockFactory) Tj
0 -14 Td
(    Device.pin_factory = MockFactory\(\)) Tj
0 -14 Td
(    ser = None) Tj
0 -14 Td
() Tj
0 -14 Td
(# Robot pins) Tj
0 -14 Td
(PIN_FORWARD = 17) Tj
0 -14 Td
(PIN_BACKWARD = 27) Tj
0 -14 Td
(PIN_LEFT = 22) Tj
0 -14 Td
(PIN_RIGHT = 23) Tj
0 -14 Td
() Tj
0 -14 Td
(if IS_PI:) Tj
0 -14 Td
(    GPIO.setup\(PIN_FORWARD, GPIO.OUT\)) Tj
0 -14 Td
(    GPIO.setup\(PIN_BACKWARD, GPIO.OUT\)) Tj
0 -14 Td
(    GPIO.setup\(PIN_LEFT, GPIO.OUT\)) Tj
0 -14 Td
(    GPIO.setup\(PIN_RIGHT, GPIO.OUT\)) Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- App Setup ----------------------) Tj
0 -14 Td
(app = Flask\(__name__\)) Tj
0 -14 Td
(app.config['SECRET_KEY'] = os.getenv\('MY_SECRET_KEY'\) or os.urandom\(32\)) Tj
0 -14 Td
(app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///site.db') Tj
0 -14 Td
(app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False) Tj
0 -14 Td
() Tj
0 -14 Td
(db = SQLAlchemy\(app\)) Tj
0 -14 Td
(login_manager = LoginManager\(app\)) Tj
0 -14 Td
(login_manager.login_view = 'login') Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- Models ----------------------) Tj
0 -14 Td
(class User\(db.Model, UserMixin\):) Tj
0 -14 Td
(    id = db.Column\(db.Integer, primary_key=True\)) Tj
0 -14 Td
(    username = db.Column\(db.String\(100\), unique=True, nullable=False\)) Tj
0 -14 Td
(    email = db.Column\(db.String\(150\), unique=True, nullable=False\)) Tj
0 -14 Td
(    password = db.Column\(db.String\(200\), nullable=False\)) Tj
0 -14 Td
(    role = db.Column\(db.String\(50\), default='viewer'\)  # viewer, operator, admin) Tj
0 -14 Td
() Tj
0 -14 Td
(@login_manager.user_loader) Tj
0 -14 Td
(def load_user\(user_id\):) Tj
0 -14 Td
(    return User.query.get\(int\(user_id\)\)) Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- Camera ----------------------) Tj
0 -14 Td
(camera = cv2.VideoCapture\(0\)) Tj
0 -14 Td
() Tj
0 -14 Td
(def generate_frames\(\):) Tj
0 -14 Td
(    while True:) Tj
0 -14 Td
(        success, frame = camera.read\(\)) Tj
0 -14 Td
(        if not success:) Tj
0 -14 Td
(            continue) Tj
0 -14 Td
(        _, buffer = cv2.imencode\('.jpg', frame\)) Tj
ET
endstream
endobj
23 0 obj
<< /Length 2480 >>
stream
BT
/F1 10 Tf
72 752 Td
(        frame = buffer.tobytes\(\)) Tj
0 -14 Td
(        yield \(b'--frame\\r\\n') Tj
0 -14 Td
(               b'Content-Type: image/jpeg\\r\\n\\r\\n' + frame + b'\\r\\n'\)) Tj
0 -14 Td
() Tj
0 -14 Td
(@app.route\('/video_feed'\)) Tj
0 -14 Td
(@login_required) Tj
0 -14 Td
(def video_feed\(\):) Tj
0 -14 Td
(    return Response\(generate_frames\(\), mimetype='multipart/x-mixed-replace; boundary=frame) Tj
0 -14 Td
('\)) Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- Robot Movement ----------------------) Tj
0 -14 Td
(def move_robot\(direction\):) Tj
0 -14 Td
(    # If running on Pi and Arduino serial is available, send the same commands) Tj
0 -14 Td
(    # your friend's test Flask app used: F, B, L, R, S.) Tj
0 -14 Td
(    if IS_PI and ser is not None:) Tj
0 -14 Td
(        try:) Tj
0 -14 Td
(            if direction == "forward":) Tj
0 -14 Td
(                ser.write\(b"F"\)) Tj
0 -14 Td
(            elif direction == "backward":) Tj
0 -14 Td
(                ser.write\(b"B"\)) Tj
0 -14 Td
(            elif direction == "left":) Tj
0 -14 Td
(                ser.write\(b"L"\)) Tj
0 -14 Td
(               ) Tj
0 -14 Td
(            elif direction == "right":) Tj
0 -14 Td
(                ser.write\(b"R"\)) Tj
0 -14 Td
(            elif direction == "stop":) Tj
0 -14 Td
(                ser.write\(b"S"\)) Tj
0 -14 Td
(        except Exception as e:) Tj
0 -14 Td
(            print\(f"Serial error while sending '{direction}': {e}"\)) Tj
0 -14 Td
(    elif IS_PI:) Tj
0 -14 Td
(        # Fallback to direct GPIO control if serial is not available) Tj
0 -14 Td
(        GPIO.output\(PIN_FORWARD, GPIO.LOW\)) Tj
0 -14 Td
(        GPIO.output\(PIN_BACKWARD, GPIO.LOW\)) Tj
0 -14 Td
(        GPIO.output\(PIN_LEFT, GPIO.LOW\)) Tj
0 -14 Td
(        GPIO.output\(PIN_RIGHT, GPIO.LOW\)) Tj
0 -14 Td
(        if direction == "forward":) Tj
0 -14 Td
(            GPIO.output\(PIN_FORWARD, GPIO.HIGH\)) Tj
0 -14 Td
(        elif direction == "backward":) Tj
0 -14 Td
(            GPIO.output\(PIN_BACKWARD, GPIO.HIGH\)) Tj
0 -14 Td
(        elif direction == "left":) Tj
0 -14 Td
(            GPIO.output\(PIN_LEFT, GPIO.HIGH\)) Tj
0 -14 Td
(        elif direction == "right":) Tj
0 -14 Td
(            GPIO.output\(PIN_RIGHT, GPIO.HIGH\)) Tj
0 -14 Td
(    else:) Tj
0 -14 Td
(        print\(f"Simulated move: {direction}"\)) Tj
0 -14 Td
() Tj
0 -14 Td
(@app.route\('/move/<direction>', methods=['POST']\)) Tj
0 -14 Td
(@login_required) Tj
ET
endstream
endobj
24 0 obj
<< /Length 2595 >>
stream
BT
/F1 10 Tf
72 752 Td
(def move\(direction\):) Tj
0 -14 Td
(    if current_user.role not in ['operator', 'admin']:) Tj
0 -14 Td
(        return jsonify\({"error": "Access denied"}\), 403) Tj
0 -14 Td
(    move_robot\(direction\)) Tj
0 -14 Td
(    return jsonify\({"status": f"Moved {direction}"}\), 200) Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- Routes ----------------------) Tj
0 -14 Td
(@app.route\('/'\)) Tj
0 -14 Td
(def home\(\):) Tj
0 -14 Td
(    # If user already logged in, send them to their dashboard directly) Tj
0 -14 Td
(    if current_user.is_authenticated:) Tj
0 -14 Td
(        if current_user.role == 'admin':) Tj
0 -14 Td
(            return redirect\(url_for\('dashboard_admin'\)\)) Tj
0 -14 Td
(        elif current_user.role == 'operator':) Tj
0 -14 Td
(            return redirect\(url_for\('dashboard_operator'\)\)) Tj
0 -14 Td
(        else:) Tj
0 -14 Td
(            return redirect\(url_for\('dashboard_viewer'\)\)) Tj
0 -14 Td
() Tj
0 -14 Td
(    # Otherwise show the landing page with base video) Tj
0 -14 Td
(    return render_template\('index.html'\)) Tj
0 -14 Td
() Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- Register ----------------------) Tj
0 -14 Td
(@app.route\('/register', methods=['GET', 'POST']\)) Tj
0 -14 Td
(def register\(\):) Tj
0 -14 Td
(    if request.method == 'POST':) Tj
0 -14 Td
(        username = request.form['username']) Tj
0 -14 Td
(        email = request.form['email']) Tj
0 -14 Td
(        password = request.form['password']) Tj
0 -14 Td
() Tj
0 -14 Td
(        # Validation) Tj
0 -14 Td
(        if User.query.filter_by\(username=username\).first\(\):) Tj
0 -14 Td
(            flash\("Username already exists.", "danger"\)) Tj
0 -14 Td
(            return redirect\(url_for\('register'\)\)) Tj
0 -14 Td
() Tj
0 -14 Td
(        if User.query.filter_by\(email=email\).first\(\):) Tj
0 -14 Td
(            flash\("Email already registered.", "danger"\)) Tj
0 -14 Td
(            return redirect\(url_for\('register'\)\)) Tj
0 -14 Td
() Tj
0 -14 Td
(        if not re.match\(r'^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$', email\):) Tj
0 -14 Td
(            flash\("Invalid email format.", "danger"\)) Tj
0 -14 Td
(            return redirect\(url_for\('register'\)\)) Tj
0 -14 Td
() Tj
0 -14 Td
(        if not re.match\(r'^\(?=.*[A-Z]\)\(?=.*\\d\)\(?=.*[@$!%*?&]\).{8,}$', password\):) Tj
0 -14 Td
(            flash\("Password must be at least 8 chars, include 1 uppercase, 1 number, and 1) Tj
0 -14 Td
( special character.", "danger"\)) Tj
0 -14 Td
(            return redirect\(url_for\('register'\)\)) Tj
0 -14 Td
() Tj
ET
endstream
endobj
25 0 obj
<< /Length 2497 >>
stream
BT
/F1 10 Tf
72 752 Td
(        hashed_password = generate_password_hash\(password\)) Tj
0 -14 Td
(        new_user = User\(username=username, email=email, password=hashed_password, role='vi) Tj
0 -14 Td
(ewer'\)) Tj
0 -14 Td
(        db.session.add\(new_user\)) Tj
0 -14 Td
(        db.session.commit\(\)) Tj
0 -14 Td
() Tj
0 -14 Td
(        login_user\(new_user\)) Tj
0 -14 Td
(        flash\("Registration successful! Welcome to Viewer Dashboard.", "success"\)) Tj
0 -14 Td
(        return redirect\(url_for\('dashboard_viewer'\)\)) Tj
0 -14 Td
() Tj
0 -14 Td
(    return render_template\('register.html'\)) Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- Login ----------------------) Tj
0 -14 Td
(@app.route\('/login', methods=['GET', 'POST']\)) Tj
0 -14 Td
(def login\(\):) Tj
0 -14 Td
(    if request.method == 'POST':) Tj
0 -14 Td
(        username = request.form['username']) Tj
0 -14 Td
(        password = request.form['password']) Tj
0 -14 Td
() Tj
0 -14 Td
(        user = User.query.filter_by\(username=username\).first\(\)) Tj
0 -14 Td
(        if user and check_password_hash\(user.password, password\):) Tj
0 -14 Td
(            login_user\(user\)) Tj
0 -14 Td
(            if user.role == 'admin':) Tj
0 -14 Td
(                return redirect\(url_for\('dashboard_admin'\)\)) Tj
0 -14 Td
(            elif user.role == 'operator':) Tj
0 -14 Td
(                flash\(f"Welcome {user.username}!", "success"\)) Tj
0 -14 Td
(                return redirect\(url_for\('dashboard_operator'\)\)) Tj
0 -14 Td
(            else:) Tj
0 -14 Td
(                flash\(f"Welcome {user.username}!", "success"\)) Tj
0 -14 Td
(                return redirect\(url_for\('dashboard_viewer'\)\)) Tj
0 -14 Td
(        else:) Tj
0 -14 Td
(            flash\("Invalid username or password.", "danger"\)) Tj
0 -14 Td
() Tj
0 -14 Td
(    return render_template\('login.html'\)) Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- Logout ----------------------) Tj
0 -14 Td
(@app.route\('/logout'\)) Tj
0 -14 Td
(@login_required) Tj
0 -14 Td
(def logout\(\):) Tj
0 -14 Td
(    logout_user\(\)) Tj
0 -14 Td
(    flash\("Logged out successfully.", "success"\)) Tj
0 -14 Td
(    return redirect\(url_for\('login'\)\)) Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- Dashboards ----------------------) Tj
0 -14 Td
(@app.route\('/dashboard_viewer'\)) Tj
0 -14 Td
(@login_required) Tj
0 -14 Td
(def dashboard_viewer\(\):) Tj
0 -14 Td
(    return render_template\('dashboard_viewer.html'\)) Tj
ET
endstream
endobj
26 0 obj
<< /Length 2511 >>
stream
BT
/F1 10 Tf
72 752 Td
() Tj
0 -14 Td
(@app.route\('/dashboard_operator'\)) Tj
0 -14 Td
(@login_required) Tj
0 -14 Td
(def dashboard_operator\(\):) Tj
0 -14 Td
(    if current_user.role not in ['operator', 'admin']:) Tj
0 -14 Td
(        flash\("Access denied!", "danger"\)) Tj
0 -14 Td
(        return redirect\(url_for\('dashboard_viewer'\)\)) Tj
0 -14 Td
(    return render_template\('dashboard_operator.html'\)) Tj
0 -14 Td
() Tj
0 -14 Td
(@app.route\('/dashboard_admin'\)) Tj
0 -14 Td
(@login_required) Tj
0 -14 Td
(def dashboard_admin\(\):) Tj
0 -14 Td
(    if current_user.role != 'admin':) Tj
0 -14 Td
(        flash\("Access denied!", "danger"\)) Tj
0 -14 Td
(        return redirect\(url_for\('dashboard_viewer'\)\)) Tj
0 -14 Td
(    users = User.query.all\(\)) Tj
0 -14 Td
(    existing_operator = User.query.filter_by\(role='operator'\).first\(\)) Tj
0 -14 Td
(    return render_template\('dashboard_admin.html', users=users, existing_operator=existing) Tj
0 -14 Td
(_operator\)) Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- Admin Actions ----------------------) Tj
0 -14 Td
(@app.route\('/approve_operator/<int:user_id>'\)) Tj
0 -14 Td
(@login_required) Tj
0 -14 Td
(def approve_operator\(user_id\):) Tj
0 -14 Td
(    if current_user.role != 'admin':) Tj
0 -14 Td
(        flash\("Access denied!", "danger"\)) Tj
0 -14 Td
(        return redirect\(url_for\('dashboard_viewer'\)\)) Tj
0 -14 Td
() Tj
0 -14 Td
(    existing_operator = User.query.filter_by\(role='operator'\).first\(\)) Tj
0 -14 Td
(    if existing_operator:) Tj
0 -14 Td
(        flash\(f"Cannot promote. Operator '{existing_operator.username}' already exists.", ) Tj
0 -14 Td
("warning"\)) Tj
0 -14 Td
(    else:) Tj
0 -14 Td
(        user = User.query.get_or_404\(user_id\)) Tj
0 -14 Td
(        if user.role == 'viewer':) Tj
0 -14 Td
(            user.role = 'operator') Tj
0 -14 Td
(            db.session.commit\(\)) Tj
0 -14 Td
(            flash\(f"{user.username} promoted to operator.", "success"\)) Tj
0 -14 Td
(        else:) Tj
0 -14 Td
(            flash\(f"{user.username} cannot be promoted.", "warning"\)) Tj
0 -14 Td
(    return redirect\(url_for\('dashboard_admin'\)\)) Tj
0 -14 Td
() Tj
0 -14 Td
(@app.route\('/demote_operator/<int:user_id>'\)) Tj
0 -14 Td
(@login_required) Tj
0 -14 Td
(def demote_operator\(user_id\):) Tj
0 -14 Td
(    if current_user.role != 'admin':) Tj
0 -14 Td
(        flash\("Access denied!", "danger"\)) Tj
0 -14 Td
(        return redirect\(url_for\('dashboard_viewer'\)\)) Tj
ET
endstream
endobj
27 0 obj
<< /Length 2268 >>
stream
BT
/F1 10 Tf
72 752 Td
() Tj
0 -14 Td
(    user = User.query.get_or_404\(user_id\)) Tj
0 -14 Td
(    if user.role == 'operator':) Tj
0 -14 Td
(        user.role = 'viewer') Tj
0 -14 Td
(        db.session.commit\(\)) Tj
0 -14 Td
(        flash\(f"{user.username} demoted to viewer.", "success"\)) Tj
0 -14 Td
(    else:) Tj
0 -14 Td
(        flash\(f"{user.username} cannot be demoted.", "warning"\)) Tj
0 -14 Td
(    return redirect\(url_for\('dashboard_admin'\)\)) Tj
0 -14 Td
() Tj
0 -14 Td
(@app.route\('/remove_user/<int:user_id>'\)) Tj
0 -14 Td
(@login_required) Tj
0 -14 Td
(def remove_user\(user_id\):) Tj
0 -14 Td
(    if current_user.role != 'admin':) Tj
0 -14 Td
(        flash\("Access denied!", "danger"\)) Tj
0 -14 Td
(        return redirect\(url_for\('dashboard_viewer'\)\)) Tj
0 -14 Td
() Tj
0 -14 Td
(    user = User.query.get_or_404\(user_id\)) Tj
0 -14 Td
(    if user.role != 'admin':) Tj
0 -14 Td
(        db.session.delete\(user\)) Tj
0 -14 Td
(        db.session.commit\(\)) Tj
0 -14 Td
(        flash\(f"{user.username} has been removed.", "success"\)) Tj
0 -14 Td
(    else:) Tj
0 -14 Td
(        flash\("Cannot remove admin!", "danger"\)) Tj
0 -14 Td
(    return redirect\(url_for\('dashboard_admin'\)\)) Tj
0 -14 Td
() Tj
0 -14 Td
(# ---------------------- Auto-create Admin ----------------------) Tj
0 -14 Td
(def create_default_admin\(\):) Tj
0 -14 Td
(    # Check for existing admin by email or username) Tj
0 -14 Td
(    admin = User.query.filter\() Tj
0 -14 Td
(        \(User.username == 'Admin'\) | ) Tj
0 -14 Td
(        \(User.email == 'admin@gmail.com'\)) Tj
0 -14 Td
(    \).first\(\)) Tj
0 -14 Td
() Tj
0 -14 Td
(    if not admin:) Tj
0 -14 Td
(        hashed_password = generate_password_hash\("Thisisadmin01!"\)) Tj
0 -14 Td
(        admin = User\() Tj
0 -14 Td
(            username='Admin',) Tj
0 -14 Td
(            email='admin@gmail.com',) Tj
0 -14 Td
(            password=hashed_password,) Tj
0 -14 Td
(            role='admin') Tj
0 -14 Td
(        \)) Tj
0 -14 Td
(        db.session.add\(admin\)) Tj
0 -14 Td
(        db.session.commit\(\)) Tj
0 -14 Td
(        print\("Default admin created!"\)) Tj
0 -14 Td
(    else:) Tj
0 -14 Td
(        print\("Admin already exists. Skipping creation."\)) Tj
0 -14 Td
() Tj
ET
endstream
endobj
28 0 obj
<< /Length 2138 >>
stream
BT
/F1 10 Tf
72 752 Td
() Tj
0 -14 Td
(# ---------------------- Run App ----------------------) Tj
0 -14 Td
(if __name__ == "__main__":) Tj
0 -14 Td
(    with app.app_context\(\):) Tj
0 -14 Td
(        db.create_all\(\)) Tj
0 -14 Td
(        create_default_admin\(\)) Tj
0 -14 Td
(    app.run\(host="0.0.0.0", port=5000, debug=True\)) Tj
0 -14 Td
() Tj
0 -14 Td
(```) Tj
0 -14 Td
() Tj
0 -14 Td
/F1 14 Tf
1 0 0 rg
(templates\\dashboard_admin.html) Tj
/F1 10 Tf
0 0 0 rg
0 -14 Td
(```html) Tj
0 -14 Td
({% extends "base.html" %}) Tj
0 -14 Td
() Tj
0 -14 Td
({% block content %}) Tj
0 -14 Td
(<div class="dashboard-container">) Tj
0 -14 Td
(    <!-- Header -->) Tj
0 -14 Td
(    <div class="dashboard-header">) Tj
0 -14 Td
(        <h1 class="dashboard-title">Admin Dashboard</h1>) Tj
0 -14 Td
(        <a href="{{ url_for\('logout'\) }}" class="btn-logout">Logout</a>) Tj
0 -14 Td
(    </div>) Tj
0 -14 Td
() Tj
0 -14 Td
(    <!-- Flash messages -->) Tj
0 -14 Td
(    {% with messages = get_flashed_messages\(with_categories=true\) %}) Tj
0 -14 Td
(      {% if messages %}) Tj
0 -14 Td
(        {% set category, message = messages[0] %}) Tj
0 -14 Td
(        <div class="flash {{ category }}">{{ message }}</div>) Tj
0 -14 Td
(      {% endif %}) Tj
0 -14 Td
(    {% endwith %}) Tj
0 -14 Td
() Tj
0 -14 Td
(    <!-- User Management Table -->) Tj
0 -14 Td
(    <div class="user-management">) Tj
0 -14 Td
(        <h2>User Management</h2>) Tj
0 -14 Td
(        <table>) Tj
0 -14 Td
(            <tr>) Tj
0 -14 Td
(                <th>Username</th>) Tj
0 -14 Td
(                <th>Email</th>) Tj
0 -14 Td
(                <th>Role</th>) Tj
0 -14 Td
(                <th>Actions</th>) Tj
0 -14 Td
(            </tr>) Tj
0 -14 Td
(            {% for user in users %}) Tj
0 -14 Td
(            <tr>) Tj
0 -14 Td
(                <td>{{ user.username }}</td>) Tj
0 -14 Td
(                <td>{{ user.email }}</td>) Tj
0 -14 Td
(                <td>{{ user.role }}</td>) Tj
0 -14 Td
(                <td>) Tj
0 -14 Td
(                    {% if user.role == 'viewer' %}) Tj
0 -14 Td
(                        {% if not existing_operator %}) Tj
ET
endstream
endobj
29 0 obj
<< /Length 2545 >>
stream
BT
/F1 10 Tf
72 752 Td
(                            <a href="{{ url_for\('approve_operator', user_id=user.id\) }}" c) Tj
0 -14 Td
(lass="btn-primary">Promote to Operator</a>) Tj
0 -14 Td
(                        {% else %}) Tj
0 -14 Td
(                            <span>Operator exists</span>) Tj
0 -14 Td
(                        {% endif %}) Tj
0 -14 Td
(                    {% elif user.role == 'operator' %}) Tj
0 -14 Td
(                        <a href="{{ url_for\('demote_operator', user_id=user.id\) }}" class=) Tj
0 -14 Td
("btn-primary">Demote to Viewer</a>) Tj
0 -14 Td
(                    {% endif %}) Tj
0 -14 Td
(                    {% if user.role != 'admin' %}) Tj
0 -14 Td
(                        <a href="{{ url_for\('remove_user', user_id=user.id\) }}" class="btn) Tj
0 -14 Td
(-primary">Remove</a>) Tj
0 -14 Td
(                    {% endif %}) Tj
0 -14 Td
(                </td>) Tj
0 -14 Td
(            </tr>) Tj
0 -14 Td
(            {% endfor %}) Tj
0 -14 Td
(        </table>) Tj
0 -14 Td
(    </div>) Tj
0 -14 Td
() Tj
0 -14 Td
(    <!-- Camera Section -->) Tj
0 -14 Td
(    <div class="camera-section">) Tj
0 -14 Td
(        <div class="video-wrapper">) Tj
0 -14 Td
(            <video id="video" width="640" height="480" autoplay playsinline></video>) Tj
0 -14 Td
(            <div id="noCameraMessage">No Camera Detected</div>) Tj
0 -14 Td
(        </div>) Tj
0 -14 Td
(        <canvas id="snapshot" width="640" height="480" style="display:none;"></canvas>) Tj
0 -14 Td
() Tj
0 -14 Td
(        <div class="camera-buttons">) Tj
0 -14 Td
(            <button id="snapshotBtn" class="btn-primary" disabled>Take Snapshot</button>) Tj
0 -14 Td
(            <button id="startBtn" class="btn-primary" disabled>Start Recording</button>) Tj
0 -14 Td
(            <button id="stopBtn" class="btn-primary" disabled>Stop Recording</button>) Tj
0 -14 Td
(        </div>) Tj
0 -14 Td
(        <div id="timer" class="recording-timer">00:00</div>) Tj
0 -14 Td
(    </div>) Tj
0 -14 Td
(</div>) Tj
0 -14 Td
() Tj
0 -14 Td
(<script>) Tj
0 -14 Td
(let mediaStream = null;) Tj
0 -14 Td
(let mediaRecorder;) Tj
0 -14 Td
(let recordedChunks = [];) Tj
0 -14 Td
(let timerInterval;) Tj
0 -14 Td
(let seconds = 0;) Tj
0 -14 Td
() Tj
0 -14 Td
(// Elements) Tj
0 -14 Td
(const video = document.getElementById\('video'\);) Tj
0 -14 Td
(const noCam = document.getElementById\('noCameraMessage'\);) Tj
0 -14 Td
(const startBtn = document.getElementById\('startBtn'\);) Tj
0 -14 Td
(const stopBtn = document.getElementById\('stopBtn'\);) Tj
ET
endstream
endobj
30 0 obj
<< /Length 2281 >>
stream
BT
/F1 10 Tf
72 752 Td
(const snapshotBtn = document.getElementById\('snapshotBtn'\);) Tj
0 -14 Td
(const timerDisplay = document.getElementById\('timer'\);) Tj
0 -14 Td
() Tj
0 -14 Td
(// Try to access webcam) Tj
0 -14 Td
(navigator.mediaDevices.getUserMedia\({ video: true, audio: true }\)) Tj
0 -14 Td
(.then\(stream => {) Tj
0 -14 Td
(    mediaStream = stream;) Tj
0 -14 Td
(    video.srcObject = stream;) Tj
0 -14 Td
(    noCam.style.display = "none";) Tj
0 -14 Td
(    snapshotBtn.disabled = false;) Tj
0 -14 Td
(    startBtn.disabled = false;) Tj
0 -14 Td
(}\)) Tj
0 -14 Td
(.catch\(\(\) => {) Tj
0 -14 Td
(    noCam.style.display = "flex";) Tj
0 -14 Td
(    video.style.display = "none";) Tj
0 -14 Td
(}\);) Tj
0 -14 Td
() Tj
0 -14 Td
(// ----------- SNAPSHOT FUNCTION -----------) Tj
0 -14 Td
(snapshotBtn.addEventListener\('click', \(\) => {) Tj
0 -14 Td
(    if \(!mediaStream\) return alert\("No camera detected."\);) Tj
0 -14 Td
(    const canvas = document.getElementById\('snapshot'\);) Tj
0 -14 Td
(    const context = canvas.getContext\('2d'\);) Tj
0 -14 Td
(    context.drawImage\(video, 0, 0, canvas.width, canvas.height\);) Tj
0 -14 Td
(    const imageURL = canvas.toDataURL\("image/png"\);) Tj
0 -14 Td
(    const a = document.createElement\('a'\);) Tj
0 -14 Td
(    a.href = imageURL;) Tj
0 -14 Td
(    a.download = 'snapshot.png';) Tj
0 -14 Td
(    a.click\(\);) Tj
0 -14 Td
(    alert\("Snapshot saved!"\);) Tj
0 -14 Td
(}\);) Tj
0 -14 Td
() Tj
0 -14 Td
(// ----------- RECORDING FUNCTIONS -----------) Tj
0 -14 Td
(startBtn.addEventListener\('click', \(\) => {) Tj
0 -14 Td
(    if \(!mediaStream\) return alert\("No camera detected."\);) Tj
0 -14 Td
() Tj
0 -14 Td
(    recordedChunks = [];) Tj
0 -14 Td
(    mediaRecorder = new MediaRecorder\(mediaStream\);) Tj
0 -14 Td
(    mediaRecorder.ondataavailable = e => {) Tj
0 -14 Td
(        if \(e.data.size > 0\) recordedChunks.push\(e.data\);) Tj
0 -14 Td
(    };) Tj
0 -14 Td
(    mediaRecorder.onstop = saveRecording;) Tj
0 -14 Td
() Tj
0 -14 Td
(    mediaRecorder.start\(\);) Tj
0 -14 Td
(    startBtn.disabled = true;) Tj
0 -14 Td
(    stopBtn.disabled = false;) Tj
0 -14 Td
(    seconds = 0;) Tj
0 -14 Td
(    updateTimer\(\);) Tj
0 -14 Td
(    timerInterval = setInterval\(updateTimer, 1000\);) Tj
ET
endstream
endobj
31 0 obj
<< /Length 1833 >>
stream
BT
/F1 10 Tf
72 752 Td
(}\);) Tj
0 -14 Td
() Tj
0 -14 Td
(stopBtn.addEventListener\('click', \(\) => {) Tj
0 -14 Td
(    if \(mediaRecorder && mediaRecorder.state !== "inactive"\) {) Tj
0 -14 Td
(        mediaRecorder.stop\(\);) Tj
0 -14 Td
(        clearInterval\(timerInterval\);) Tj
0 -14 Td
(        startBtn.disabled = false;) Tj
0 -14 Td
(        stopBtn.disabled = true;) Tj
0 -14 Td
(        timerDisplay.textContent = "00:00";) Tj
0 -14 Td
(    }) Tj
0 -14 Td
(}\);) Tj
0 -14 Td
() Tj
0 -14 Td
(function saveRecording\(\) {) Tj
0 -14 Td
(    const blob = new Blob\(recordedChunks, { type: 'video/webm' }\);) Tj
0 -14 Td
(    const url = URL.createObjectURL\(blob\);) Tj
0 -14 Td
(    const a = document.createElement\('a'\);) Tj
0 -14 Td
(    a.href = url;) Tj
0 -14 Td
(    a.download = 'recording.webm';) Tj
0 -14 Td
(    a.click\(\);) Tj
0 -14 Td
(    alert\("Recording saved!"\);) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(function updateTimer\(\) {) Tj
0 -14 Td
(    seconds++;) Tj
0 -14 Td
(    const mins = String\(Math.floor\(seconds / 60\)\).padStart\(2, '0'\);) Tj
0 -14 Td
(    const secs = String\(seconds % 60\).padStart\(2, '0'\);) Tj
0 -14 Td
(    timerDisplay.textContent = `${mins}:${secs}`;) Tj
0 -14 Td
(}) Tj
0 -14 Td
(</script>) Tj
0 -14 Td
() Tj
0 -14 Td
(<style>) Tj
0 -14 Td
(.dashboard-header {) Tj
0 -14 Td
(    display: flex;) Tj
0 -14 Td
(    align-items: center;) Tj
0 -14 Td
(    justify-content: space-between;) Tj
0 -14 Td
(    padding: 10px 20px;) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(.dashboard-title {) Tj
0 -14 Td
(    margin: 0;) Tj
0 -14 Td
(    font-size: 28px;) Tj
0 -14 Td
(    font-weight: bold;) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(.btn-logout {) Tj
0 -14 Td
(    background: #e74c3c;) Tj
0 -14 Td
(    color: white;) Tj
0 -14 Td
(    text-decoration: none;) Tj
ET
endstream
endobj
32 0 obj
<< /Length 1564 >>
stream
BT
/F1 10 Tf
72 752 Td
(    padding: 8px 14px;) Tj
0 -14 Td
(    border-radius: 6px;) Tj
0 -14 Td
(    font-weight: 500;) Tj
0 -14 Td
(    transition: 0.3s;) Tj
0 -14 Td
(}) Tj
0 -14 Td
(.btn-logout:hover {) Tj
0 -14 Td
(    background: #c0392b;) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(.video-wrapper {) Tj
0 -14 Td
(    position: relative;) Tj
0 -14 Td
(    width: 640px;) Tj
0 -14 Td
(    height: 480px;) Tj
0 -14 Td
(    margin: 20px auto;) Tj
0 -14 Td
(    background: #000;) Tj
0 -14 Td
(    border-radius: 10px;) Tj
0 -14 Td
(    overflow: hidden;) Tj
0 -14 Td
(}) Tj
0 -14 Td
(#noCameraMessage {) Tj
0 -14 Td
(    display: none;) Tj
0 -14 Td
(    position: absolute;) Tj
0 -14 Td
(    inset: 0;) Tj
0 -14 Td
(    background: rgba\(20, 20, 20, 0.9\);) Tj
0 -14 Td
(    color: white;) Tj
0 -14 Td
(    font-size: 28px;) Tj
0 -14 Td
(    display: flex;) Tj
0 -14 Td
(    align-items: center;) Tj
0 -14 Td
(    justify-content: center;) Tj
0 -14 Td
(}) Tj
0 -14 Td
(.camera-buttons {) Tj
0 -14 Td
(    text-align: center;) Tj
0 -14 Td
(    margin-top: 10px;) Tj
0 -14 Td
(}) Tj
0 -14 Td
(.recording-timer {) Tj
0 -14 Td
(    text-align: center;) Tj
0 -14 Td
(    font-weight: bold;) Tj
0 -14 Td
(    font-size: 20px;) Tj
0 -14 Td
(    margin-top: 10px;) Tj
0 -14 Td
(}) Tj
0 -14 Td
(</style>) Tj
0 -14 Td
({% endblock %}) Tj
0 -14 Td
() Tj
0 -14 Td
(```) Tj
0 -14 Td
() Tj
0 -14 Td
/F1 14 Tf
1 0 0 rg
(templates\\dashboard_viewer.html) Tj
/F1 10 Tf
0 0 0 rg
0 -14 Td
(```html) Tj
0 -14 Td
({% extends "base.html" %}) Tj
0 -14 Td
({% block content %}) Tj
ET
endstream
endobj
33 0 obj
<< /Length 2379 >>
stream
BT
/F1 10 Tf
72 752 Td
(<div class="dashboard-container">) Tj
0 -14 Td
(    <div class="dashboard-header">) Tj
0 -14 Td
(        <h1 class="dashboard-title">Viewer Dashboard</h1>) Tj
0 -14 Td
(        <div class="dashboard-actions">) Tj
0 -14 Td
(            <a href="{{ url_for\('logout'\) }}" class="btn-logout">Logout</a>) Tj
0 -14 Td
(        </div>) Tj
0 -14 Td
(    </div>) Tj
0 -14 Td
() Tj
0 -14 Td
(    <p class="dashboard-subtitle">View the camera feed and take snapshots or recordings</p) Tj
0 -14 Td
(>) Tj
0 -14 Td
() Tj
0 -14 Td
(    <div class="camera-section">) Tj
0 -14 Td
(        <video id="video" width="640" height="480" autoplay></video>) Tj
0 -14 Td
(        <canvas id="snapshot" width="640" height="480" style="display:none;"></canvas>) Tj
0 -14 Td
(        <div class="camera-buttons">) Tj
0 -14 Td
(            <button onclick="takeSnapshot\(\)" class="btn-primary">Take Snapshot</button>) Tj
0 -14 Td
(            <button onclick="startRecording\(\)" class="btn-primary">Start Recording</button) Tj
0 -14 Td
(>) Tj
0 -14 Td
(            <button onclick="stopRecording\(\)" class="btn-primary">Stop Recording</button>) Tj
0 -14 Td
(        </div>) Tj
0 -14 Td
(    </div>) Tj
0 -14 Td
(</div>) Tj
0 -14 Td
() Tj
0 -14 Td
(<script>) Tj
0 -14 Td
(const video = document.getElementById\('video'\);) Tj
0 -14 Td
(navigator.mediaDevices.getUserMedia\({ video: true, audio: true }\)) Tj
0 -14 Td
(.then\(stream => video.srcObject = stream\)) Tj
0 -14 Td
(.catch\(err => console.error\("Camera error:", err\)\);) Tj
0 -14 Td
() Tj
0 -14 Td
(function takeSnapshot\(\) {) Tj
0 -14 Td
(    const canvas = document.getElementById\('snapshot'\);) Tj
0 -14 Td
(    const context = canvas.getContext\('2d'\);) Tj
0 -14 Td
(    context.drawImage\(video, 0, 0, canvas.width, canvas.height\);) Tj
0 -14 Td
(    alert\("Snapshot taken!"\);) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(let mediaRecorder;) Tj
0 -14 Td
(let recordedChunks = [];) Tj
0 -14 Td
() Tj
0 -14 Td
(function startRecording\(\) {) Tj
0 -14 Td
(    recordedChunks = [];) Tj
0 -14 Td
(    mediaRecorder = new MediaRecorder\(video.srcObject\);) Tj
0 -14 Td
(    mediaRecorder.ondataavailable = e => { if \(e.data.size > 0\) recordedChunks.push\(e.data) Tj
0 -14 Td
(\); };) Tj
0 -14 Td
(    mediaRecorder.start\(\);) Tj
0 -14 Td
(    alert\("Recording started"\);) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
ET
endstream
endobj
34 0 obj
<< /Length 1679 >>
stream
BT
/F1 10 Tf
72 752 Td
(function stopRecording\(\) {) Tj
0 -14 Td
(    mediaRecorder.stop\(\);) Tj
0 -14 Td
(    mediaRecorder.onstop = \(\) => {) Tj
0 -14 Td
(        const blob = new Blob\(recordedChunks, { type: 'video/webm' }\);) Tj
0 -14 Td
(        const url = URL.createObjectURL\(blob\);) Tj
0 -14 Td
(        const a = document.createElement\('a'\);) Tj
0 -14 Td
(        a.href = url;) Tj
0 -14 Td
(        a.download = 'recording.webm';) Tj
0 -14 Td
(        a.click\(\);) Tj
0 -14 Td
(        alert\("Recording saved"\);) Tj
0 -14 Td
(    };) Tj
0 -14 Td
(}) Tj
0 -14 Td
(</script>) Tj
0 -14 Td
() Tj
0 -14 Td
(<style>) Tj
0 -14 Td
(.dashboard-container { ) Tj
0 -14 Td
(    max-width: 900px; ) Tj
0 -14 Td
(    margin: 50px auto; ) Tj
0 -14 Td
(    text-align: center; ) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(.dashboard-header {) Tj
0 -14 Td
(    display: flex;) Tj
0 -14 Td
(    justify-content: space-between;) Tj
0 -14 Td
(    align-items: center;) Tj
0 -14 Td
(    margin-bottom: 15px;) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(.dashboard-title { ) Tj
0 -14 Td
(    font-size: 32px; ) Tj
0 -14 Td
(    color: #0a8f0a; ) Tj
0 -14 Td
(    font-weight: 700; ) Tj
0 -14 Td
(    margin: 0;) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(.dashboard-subtitle { ) Tj
0 -14 Td
(    font-size: 16px; ) Tj
0 -14 Td
(    color: #666; ) Tj
0 -14 Td
(    margin-bottom: 30px; ) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(.btn-primary { ) Tj
0 -14 Td
(    padding: 8px 15px; ) Tj
0 -14 Td
(    background-color: #0a8f0a; ) Tj
0 -14 Td
(    color: white; ) Tj
0 -14 Td
(    border: none; ) Tj
0 -14 Td
(    border-radius: 6px; ) Tj
0 -14 Td
(    cursor: pointer; ) Tj
ET
endstream
endobj
35 0 obj
<< /Length 1596 >>
stream
BT
/F1 10 Tf
72 752 Td
(}) Tj
0 -14 Td
(.btn-primary:hover { ) Tj
0 -14 Td
(    background-color: #087607; ) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(.btn-logout {) Tj
0 -14 Td
(    background-color: #d9534f;) Tj
0 -14 Td
(    color: white;) Tj
0 -14 Td
(    padding: 8px 15px;) Tj
0 -14 Td
(    border-radius: 6px;) Tj
0 -14 Td
(    text-decoration: none;) Tj
0 -14 Td
(    font-weight: 600;) Tj
0 -14 Td
(    transition: background 0.3s;) Tj
0 -14 Td
(}) Tj
0 -14 Td
(.btn-logout:hover {) Tj
0 -14 Td
(    background-color: #c9302c;) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(.camera-section { ) Tj
0 -14 Td
(    background: #fff; ) Tj
0 -14 Td
(    padding: 30px; ) Tj
0 -14 Td
(    border-radius: 12px; ) Tj
0 -14 Td
(    box-shadow: 0 10px 25px rgba\(0,0,0,0.1\); ) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(.camera-buttons button { ) Tj
0 -14 Td
(    margin: 10px; ) Tj
0 -14 Td
(}) Tj
0 -14 Td
(</style>) Tj
0 -14 Td
({% endblock %}) Tj
0 -14 Td
() Tj
0 -14 Td
(```) Tj
0 -14 Td
() Tj
0 -14 Td
/F1 14 Tf
1 0 0 rg
(templates\\index.html) Tj
/F1 10 Tf
0 0 0 rg
0 -14 Td
(```html) Tj
0 -14 Td
({% extends "base.html" %}) Tj
0 -14 Td
() Tj
0 -14 Td
({% block title %}WebRover Controller{% endblock %}) Tj
0 -14 Td
() Tj
0 -14 Td
({% block background %}) Tj
0 -14 Td
(<video class="bg-video" autoplay muted loop playsinline>) Tj
0 -14 Td
(    <source src="{{ url_for\('static', filename='stock/base.mp4'\) }}" type="video/mp4">) Tj
0 -14 Td
(</video>) Tj
0 -14 Td
({% endblock %}) Tj
0 -14 Td
() Tj
0 -14 Td
({% block extra_head %}) Tj
0 -14 Td
(<style>) Tj
0 -14 Td
(.hero-wrap {) Tj
ET
endstream
endobj
36 0 obj
<< /Length 1668 >>
stream
BT
/F1 10 Tf
72 752 Td
(    min-height: calc\(100vh - 120px\);) Tj
0 -14 Td
(    display: flex;) Tj
0 -14 Td
(    flex-direction: column;) Tj
0 -14 Td
(    justify-content: center;) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(/* Title */) Tj
0 -14 Td
(.hero-title {) Tj
0 -14 Td
(    font-size: 54px;) Tj
0 -14 Td
(    font-weight: 700;) Tj
0 -14 Td
(    color: #ffffff;) Tj
0 -14 Td
(    margin-bottom: 16px;) Tj
0 -14 Td
(    text-shadow: 0 6px 24px rgba\(0,0,0,0.55\);) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(/* Description ? crisp, not blurry */) Tj
0 -14 Td
(.hero-desc {) Tj
0 -14 Td
(    font-size: 20px;) Tj
0 -14 Td
(    color: #ffffff;) Tj
0 -14 Td
(    max-width: 720px;) Tj
0 -14 Td
(    line-height: 1.6;) Tj
0 -14 Td
(    margin-bottom: 32px;) Tj
0 -14 Td
(    text-shadow: 0 2px 6px rgba\(0,0,0,0.4\);) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(/* Buttons row */) Tj
0 -14 Td
(.hero-buttons {) Tj
0 -14 Td
(    display: flex;) Tj
0 -14 Td
(    flex-wrap: wrap;) Tj
0 -14 Td
(    gap: 18px;) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(/* Both Login & Register: same green style */) Tj
0 -14 Td
(.hero-buttons .btn-main {) Tj
0 -14 Td
(    display: inline-block;) Tj
0 -14 Td
(    padding: 14px 40px;) Tj
0 -14 Td
(    border-radius: 18px;) Tj
0 -14 Td
(    border: none;) Tj
0 -14 Td
(    cursor: pointer;) Tj
0 -14 Td
(    font-weight: 700;) Tj
0 -14 Td
(    font-size: 22px;) Tj
0 -14 Td
(    background-color: #0a8f0a;) Tj
0 -14 Td
(    color: #ffffff;) Tj
0 -14 Td
(    box-shadow: 0 10px 28px rgba\(0,0,0,0.35\);) Tj
0 -14 Td
(    transition: all 0.2s ease;) Tj
0 -14 Td
(}) Tj
0 -14 Td
() Tj
0 -14 Td
(.hero-buttons .btn-main:hover {) Tj
ET
endstream
endobj
37 0 obj
<< /Length 1060 >>
stream
BT
/F1 10 Tf
72 752 Td
(    background-color: #0a7c0a;) Tj
0 -14 Td
(    transform: translateY\(-2px\);) Tj
0 -14 Td
(    box-shadow: 0 14px 34px rgba\(0,0,0,0.45\);) Tj
0 -14 Td
(}) Tj
0 -14 Td
(</style>) Tj
0 -14 Td
({% endblock %}) Tj
0 -14 Td
() Tj
0 -14 Td
({% block content %}) Tj
0 -14 Td
(<div class="hero-wrap">) Tj
0 -14 Td
(    <h1 class="hero-title">WebRover Controller</h1>) Tj
0 -14 Td
(    <p class="hero-desc">) Tj
0 -14 Td
(        Securely control your Raspberry&nbsp;Pi rover from any browser. Assign roles for a) Tj
0 -14 Td
(dmins,) Tj
0 -14 Td
(        operators, and viewers, stream live video, and send movement commands in real time) Tj
0 -14 Td
(.) Tj
0 -14 Td
(    </p>) Tj
0 -14 Td
() Tj
0 -14 Td
(    <div class="hero-buttons">) Tj
0 -14 Td
(        <a href="{{ url_for\('login'\) }}" class="btn-main">Login</a>) Tj
0 -14 Td
(        <a href="{{ url_for\('register'\) }}" class="btn-main">Register</a>) Tj
0 -14 Td
(    </div>) Tj
0 -14 Td
(</div>) Tj
0 -14 Td
({% endblock %}) Tj
0 -14 Td
() Tj
0 -14 Td
() Tj
0 -14 Td
(```) Tj
ET
endstream
endobj
xref
0 38
0000000000 65535 f 
0000000009 00000 n 
0000000058 00000 n 
0000000222 00000 n 
0000000350 00000 n 
0000000478 00000 n 
0000000606 00000 n 
0000000734 00000 n 
0000000862 00000 n 
0000000990 00000 n 
0000001118 00000 n 
0000001247 00000 n 
0000001376 00000 n 
0000001505 00000 n 
0000001634 00000 n 
0000001763 00000 n 
0000001892 00000 n 
0000002021 00000 n 
0000002150 00000 n 
0000002279 00000 n 
0000002408 00000 n 
0000002479 00000 n 
0000004719 00000 n 
0000007008 00000 n 
0000009541 00000 n 
0000012189 00000 n 
0000014739 00000 n 
0000017303 00000 n 
0000019624 00000 n 
0000021815 00000 n 
0000024413 00000 n 
0000026747 00000 n 
0000028633 00000 n 
0000030250 00000 n 
0000032682 00000 n 
0000034414 00000 n 
0000036063 00000 n 
0000037784 00000 n 
trailer
<< /Size 38 /Root 1 0 R >>
startxref
38897
%%EOF
